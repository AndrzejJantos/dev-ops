{
  "name": "cheaperfordrug-scraper-deployment",
  "version": "1.0.0",
  "description": "Host-side management scripts for CheaperForDrug multi-country scraper deployment",
  "private": true,
  "scripts": {
    "scrapers:watch": "bash ./.scripts/watch-logs.sh all",
    "scrapers:watch:poland": "bash ./.scripts/watch-logs.sh poland",
    "scrapers:watch:germany": "bash ./.scripts/watch-logs.sh germany",
    "scrapers:watch:czech": "bash ./.scripts/watch-logs.sh czech",
    "scrapers:start": "bash ./.scripts/trigger-scraper.sh all",
    "scrapers:start:poland": "bash ./.scripts/trigger-scraper.sh poland",
    "scrapers:start:germany": "bash ./.scripts/trigger-scraper.sh germany",
    "scrapers:start:czech": "bash ./.scripts/trigger-scraper.sh czech",
    "scrapers:stop": "bash -c 'docker exec cheaperfordrug-scraper-poland pkill -f \"node.*scraper\" 2>/dev/null || true; docker exec cheaperfordrug-scraper-germany pkill -f \"node.*scraper\" 2>/dev/null || true; docker exec cheaperfordrug-scraper-czech pkill -f \"node.*scraper\" 2>/dev/null || true; echo \"All scrapers stopped\"'",
    "scrapers:stop:poland": "bash -c 'docker exec cheaperfordrug-scraper-poland pkill -f \"node.*scraper\" 2>/dev/null || true; echo \"Poland scrapers stopped\"'",
    "scrapers:stop:germany": "bash -c 'docker exec cheaperfordrug-scraper-germany pkill -f \"node.*scraper\" 2>/dev/null || true; echo \"Germany scrapers stopped\"'",
    "scrapers:stop:czech": "bash -c 'docker exec cheaperfordrug-scraper-czech pkill -f \"node.*scraper\" 2>/dev/null || true; echo \"Czech scrapers stopped\"'",
    "scrapers:status": "bash ./.scripts/monitor.sh",
    "scrapers:logs": "bash -c 'echo \"=== POLAND ===\"  && docker logs --tail 50 cheaperfordrug-scraper-poland; echo \"\"; echo \"=== GERMANY ===\"  && docker logs --tail 50 cheaperfordrug-scraper-germany; echo \"\"; echo \"=== CZECH ===\"  && docker logs --tail 50 cheaperfordrug-scraper-czech'",
    "scrapers:logs:poland": "docker logs --tail 100 cheaperfordrug-scraper-poland",
    "scrapers:logs:germany": "docker logs --tail 100 cheaperfordrug-scraper-germany",
    "scrapers:logs:czech": "docker logs --tail 100 cheaperfordrug-scraper-czech",
    "containers:restart": "bash -c 'source ./.scripts/config.sh && cd $APP_DIR/repo && docker-compose restart'",
    "containers:restart:poland": "docker restart cheaperfordrug-scraper-poland",
    "containers:restart:germany": "docker restart cheaperfordrug-scraper-germany",
    "containers:restart:czech": "docker restart cheaperfordrug-scraper-czech",
    "containers:stop": "bash -c 'source ./.scripts/config.sh && cd $APP_DIR/repo && docker-compose stop'",
    "containers:start": "bash -c 'source ./.scripts/config.sh && cd $APP_DIR/repo && docker-compose start'",
    "cron:status": "bash -c 'echo \"=== Container Cron Status ===\" && echo \"\" && echo \"Poland:\" && docker exec cheaperfordrug-scraper-poland ps aux | grep cron | grep -v grep || echo \"  Cron not running\" && echo \"\" && echo \"Germany:\" && docker exec cheaperfordrug-scraper-germany ps aux | grep cron | grep -v grep || echo \"  Cron not running\" && echo \"\" && echo \"Czech:\" && docker exec cheaperfordrug-scraper-czech ps aux | grep cron | grep -v grep || echo \"  Cron not running\"'",
    "cron:status:poland": "bash -c 'docker exec cheaperfordrug-scraper-poland ps aux | grep cron | grep -v grep || echo \"Cron not running\"'",
    "cron:status:germany": "bash -c 'docker exec cheaperfordrug-scraper-germany ps aux | grep cron | grep -v grep || echo \"Cron not running\"'",
    "cron:status:czech": "bash -c 'docker exec cheaperfordrug-scraper-czech ps aux | grep cron | grep -v grep || echo \"Cron not running\"'",
    "cron:list": "bash -c 'echo \"=== Container Crontabs ===\" && echo \"\" && echo \"Poland:\" && docker exec cheaperfordrug-scraper-poland crontab -l 2>/dev/null | grep -v \"^#\" | grep -v \"^$\" || echo \"  No crontab\" && echo \"\" && echo \"Germany:\" && docker exec cheaperfordrug-scraper-germany crontab -l 2>/dev/null | grep -v \"^#\" | grep -v \"^$\" || echo \"  No crontab\" && echo \"\" && echo \"Czech:\" && docker exec cheaperfordrug-scraper-czech crontab -l 2>/dev/null | grep -v \"^#\" | grep -v \"^$\" || echo \"  No crontab\"'",
    "cron:list:poland": "bash -c 'docker exec cheaperfordrug-scraper-poland crontab -l 2>/dev/null'",
    "cron:list:germany": "bash -c 'docker exec cheaperfordrug-scraper-germany crontab -l 2>/dev/null'",
    "cron:list:czech": "bash -c 'docker exec cheaperfordrug-scraper-czech crontab -l 2>/dev/null'",
    "cron:logs": "bash -c 'echo \"=== Container Cron Logs ===\" && echo \"\" && echo \"Poland:\" && docker exec cheaperfordrug-scraper-poland tail -n 50 /app/logs/cron/scraper.log 2>/dev/null || echo \"  No logs found\" && echo \"\" && echo \"Germany:\" && docker exec cheaperfordrug-scraper-germany tail -n 50 /app/logs/cron/scraper.log 2>/dev/null || echo \"  No logs found\" && echo \"\" && echo \"Czech:\" && docker exec cheaperfordrug-scraper-czech tail -n 50 /app/logs/cron/scraper.log 2>/dev/null || echo \"  No logs found\"'",
    "cron:logs:poland": "bash -c 'docker exec cheaperfordrug-scraper-poland tail -n 100 /app/logs/cron/scraper.log 2>/dev/null || echo \"No logs found\"'",
    "cron:logs:germany": "bash -c 'docker exec cheaperfordrug-scraper-germany tail -n 100 /app/logs/cron/scraper.log 2>/dev/null || echo \"No logs found\"'",
    "cron:logs:czech": "bash -c 'docker exec cheaperfordrug-scraper-czech tail -n 100 /app/logs/cron/scraper.log 2>/dev/null || echo \"No logs found\"'",
    "cron:next": "bash -c 'echo \"Next scheduled cron runs: Monday and Thursday at 7:00 AM (Europe/Warsaw timezone)\" && echo \"\" && TZ=Europe/Warsaw date && echo \"\" && echo \"Next runs will be on the upcoming Monday and Thursday at 07:00\"'",
    "vpn:status": "bash -c 'echo \"=== POLAND VPN ===\"  && docker exec cheaperfordrug-scraper-poland nordvpn status; echo \"\"; echo \"=== GERMANY VPN ===\"  && docker exec cheaperfordrug-scraper-germany nordvpn status; echo \"\"; echo \"=== CZECH VPN ===\"  && docker exec cheaperfordrug-scraper-czech nordvpn status'",
    "vpn:rotate": "bash -c 'echo \"Rotating VPN connections...\" && docker exec cheaperfordrug-scraper-poland /app/docker-scripts/vpn-rotate.sh & docker exec cheaperfordrug-scraper-germany /app/docker-scripts/vpn-rotate.sh & docker exec cheaperfordrug-scraper-czech /app/docker-scripts/vpn-rotate.sh & wait && echo \"VPN rotation complete\"'",
    "deploy": "bash ./setup.sh --deploy",
    "status": "bash ./setup.sh --status",
    "monitor": "bash ./.scripts/monitor.sh 5",
    "help": "bash -c 'echo \"\" && echo \"CheaperForDrug Scraper - Available Commands\" && echo \"==========================================\" && echo \"\" && echo \"Scraper Management:\" && echo \"  npm run scrapers:watch          - Watch all container logs (color-coded)\" && echo \"  npm run scrapers:watch:poland   - Watch Poland logs only\" && echo \"  npm run scrapers:start          - Start scrapers in all containers\" && echo \"  npm run scrapers:start:poland   - Start only Poland scrapers\" && echo \"  npm run scrapers:stop           - Stop all running scrapers\" && echo \"  npm run scrapers:status         - Show container status\" && echo \"  npm run scrapers:logs           - View recent logs from all containers\" && echo \"\" && echo \"Container Management:\" && echo \"  npm run containers:restart      - Restart all containers\" && echo \"  npm run containers:stop         - Stop all containers\" && echo \"  npm run containers:start        - Start all containers\" && echo \"\" && echo \"Cron Management (Container-Level):\" && echo \"  npm run cron:status             - Check cron daemon status in containers\" && echo \"  npm run cron:list               - List crontab in all containers\" && echo \"  npm run cron:logs               - View cron execution logs\" && echo \"  npm run cron:next               - Show next scheduled run\" && echo \"\" && echo \"VPN Management:\" && echo \"  npm run vpn:status              - Check VPN connection status\" && echo \"  npm run vpn:rotate              - Manually rotate VPN connections\" && echo \"\" && echo \"Other:\" && echo \"  npm run deploy                  - Full deployment\" && echo \"  npm run monitor                 - Monitor containers (5s refresh)\" && echo \"  npm run help                    - Show this help\" && echo \"\"'"
  },
  "keywords": [
    "scraper",
    "docker",
    "nordvpn",
    "automation",
    "deployment"
  ],
  "author": "CheaperForDrug Team",
  "license": "UNLICENSED"
}
